let song=document.querySelector("#song"), seekBar=document.querySelector("#seek_bar");let play_pause_icon=document.querySelector("#play_pause"), play_pause_btn=document.querySelector("#playPause");let thumbnail=document.querySelector("#album"), title=document.querySelector("#title");let vol=document.querySelector("#volume"), vol_icon=document.querySelector("#volume_icon");let track=[{image: "../img/van_halen_album.jpg", audio: "../audio/Van Halen - Jump.mp3", title: "Jump"},{image: "../img/save_your_tears_album.png", audio: "../audio/The Weeknd - Save Your Tears.mp3", title: "Save Your Tears"},{image: "../img/malibu_nights_album.png", audio: "../audio/Lany - Thick and Thin.mp3", title: "Thick and Thin"}];let playing=true, current_track=0, seek, temp=true, temp_vol=1;let refresh=window.setInterval(function(){seekBar.setAttribute("max",`${Math.ceil(song.duration)}`);},1000);function volume(Value){song.volume=parseInt(Value)/100; vol.value=parseInt(Value); temp_vol=song.volume; soundIcon();}function mute(){if(temp==true){song.volume=0; vol_icon.setAttribute("onclick","unmute()"); vol_icon.setAttribute("class","bi bi-volume-mute-fill"); temp=false;}}function unmute(){if(temp==false){song.volume=temp_vol; soundIcon(); vol_icon.setAttribute("onclick","mute()"); temp=true;}}function soundIcon(){if(song.volume > 0.6 && song.volume < 1.1) vol_icon.setAttribute("class","bi bi-volume-up-fill"); else if(song.volume > 0.3 && song.volume < 0.7) vol_icon.setAttribute("class","bi bi-volume-down-fill"); else vol_icon.setAttribute("class","bi bi-volume-off-fill");}function player(value){song.currentTime=parseInt(value); play();}function currentSeek(){let temp=song.currentTime; seekBar.value=temp; temp++; if(song.currentTime==song.duration) document.querySelector("#forward").click();}function play(){if(playing){seek=setInterval(currentSeek, 1000); play_pause_icon.setAttribute("class","bi bi-pause-fill"); play_pause_btn.setAttribute("onclick","pause()"); thumbnail.style.transform="scale(1.05)"; song.play(); playing=false;}}function pause(){if(!playing){play_pause_icon.setAttribute("class","bi bi-play-fill"); play_pause_btn.setAttribute("onclick","play()"); thumbnail.style.transform="scale(1)"; song.pause(); playing=true; clearInterval(seek);}}function forward(){if(current_track !=track.length-1){if(!seek) seek=setInterval(currentSeek, 1000); play_pause_btn.setAttribute("onclick","pause()"); current_track++; fw_bw_feature();}}function backward(){if(current_track !=0){if(!seek) seek=setInterval(currentSeek, 1000); play_pause_btn.setAttribute("onclick","pause()"); current_track--; fw_bw_feature();}}function fw_bw_feature(){thumbnail.setAttribute("src",`${track[current_track].image}`); song.setAttribute("src",`${track[current_track].audio}`); title.innerText=`${track[current_track].title}`; play_pause_icon.setAttribute("class","bi bi-pause-fill"); thumbnail.style.transform="scale(1.05)"; song.play(); seekBar.value=1; playing=false;}
